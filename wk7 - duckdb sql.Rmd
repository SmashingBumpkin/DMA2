---
title: "Untitled"
output: html_document
date: "2024-04-10"
---

# SQL with duck db

Setup the env

```{R installations}
#install.packages("duckdb")
#install.packages("dplyr")
#install.packages("tidyverse")
library(dplyr, quietly = T)
library(duckdb, quietly = T)
library(ggplot2, quietly = T)
```
Setup the database

```{r, Connecting to db}
#dbConnect()
#create db called titanic
con <- dbConnect(duckdb(), dbname = "titanic.db")

#load the titanic data
titanic_data <- read.csv("titanic - train.csv")

#db table
dbWriteTable(con, "passengers", titanic_data, row.names=F)

```

Get the adult passengers from the table (a nice simple way  to test its working)

```{r, performing sql query}
df_adult_passengers <- dbGetQuery(con, "SELECT * FROM passengers WHERE age > 18")
```
